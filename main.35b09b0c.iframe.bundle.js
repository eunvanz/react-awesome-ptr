(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{299:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(139),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(140),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".react-awesome-ptr.fixed-opacity{opacity:1 !important}.react-awesome-ptr.for-bounce{position:fixed;width:100%;z-index:-1;opacity:0;right:0}.react-awesome-ptr.for-bounce.transition-enabled{transition:height .2s cubic-bezier(0, 0, 0, 1),opacity .2s}.react-awesome-ptr.for-no-bounce{opacity:0;position:fixed;width:100%;z-index:-1;right:0}.react-awesome-ptr.for-no-bounce.transition-enabled{transition:opacity .2s}","",{version:3,sources:["webpack://./src/CommonPullToRefresh.scss"],names:[],mappings:"AACE,iCACE,oBAAA,CAEF,8BAIE,cAAA,CACA,UAAA,CACA,UAAA,CACA,SAAA,CACA,OAAA,CAPA,iDACE,0DAAA,CAQJ,iCAIE,SAAA,CACA,cAAA,CACA,UAAA,CACA,UAAA,CACA,OAAA,CAPA,oDACE,sBAAA",sourcesContent:[".react-awesome-ptr {\n  &.fixed-opacity {\n    opacity: 1 !important;\n  }\n  &.for-bounce {\n    &.transition-enabled {\n      transition: height 0.2s cubic-bezier(0, 0, 0, 1), opacity 0.2s;\n    }\n    position: fixed;\n    width: 100%;\n    z-index: -1;\n    opacity: 0;\n    right: 0;\n  }\n  &.for-no-bounce {\n    &.transition-enabled {\n      transition: opacity 0.2s;\n    }\n    opacity: 0;\n    position: fixed;\n    width: 100%;\n    z-index: -1;\n    right: 0;\n  }\n}\n"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},300:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(139),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(140),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".react-awesome-ptr-spinner{margin:0 auto}.react-awesome-ptr-spinner img.bump{animation:rap-default-bump .3s 1}.react-awesome-ptr-spinner img.spin{animation:rap-default-spin 1s steps(12, end) infinite .1s}@keyframes rap-default-spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes rap-default-bump{from{transform:scale(1.3)}to{transform:scale(1)}}","",{version:3,sources:["webpack://./src/DefaultSpinner.scss"],names:[],mappings:"AAAA,2BACE,aAAA,CACA,oCACE,gCAAA,CAEF,oCACE,yDAAA,CAEF,4BACE,KACE,sBAAA,CAEF,GACE,wBAAA,CAAA,CAGJ,4BACE,KACE,oBAAA,CAEF,GACE,kBAAA,CAAA",sourcesContent:[".react-awesome-ptr-spinner {\n  margin: 0 auto;\n  img.bump {\n    animation: rap-default-bump 0.3s 1;\n  }\n  img.spin {\n    animation: rap-default-spin 1s steps(12, end) infinite 0.1s;\n  }\n  @keyframes rap-default-spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes rap-default-bump {\n    from {\n      transform: scale(1.3);\n    }\n    to {\n      transform: scale(1);\n    }\n  }\n}\n"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},301:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(139),_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(140),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default.a);___CSS_LOADER_EXPORT___.push([module.i,".rap-cupertino-spinner{margin:8px auto 0;width:32px}.rap-cupertino-spinner .bump{animation:rap-cupertino-bump .3s 1}.rap-cupertino-spinner .spin>svg{animation:rap-cupertino-spin 1.5s infinite linear}.rap-cupertino-spinner .complete>svg{animation:rap-cupertino-shrink 300ms 1}@keyframes rap-cupertino-spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes rap-cupertino-bump{from{transform:scale(1.3)}to{transform:scale(1)}}@keyframes rap-cupertino-shrink{from{transform:rotate(0deg)}to{transform:rotate(180deg) scale(0)}}","",{version:3,sources:["webpack://./src/CupertinoSpinner.scss"],names:[],mappings:"AAAA,uBACE,iBAAA,CACA,UAAA,CACA,6BACE,kCAAA,CAEF,iCACE,iDAAA,CAEF,qCACE,sCAAA,CAEF,8BACE,KACE,sBAAA,CAEF,GACE,wBAAA,CAAA,CAGJ,8BACE,KACE,oBAAA,CAEF,GACE,kBAAA,CAAA,CAGJ,gCACE,KACE,sBAAA,CAEF,GACE,iCAAA,CAAA",sourcesContent:[".rap-cupertino-spinner {\n  margin: 8px auto 0;\n  width: 32px;\n  .bump {\n    animation: rap-cupertino-bump 0.3s 1;\n  }\n  .spin > svg {\n    animation: rap-cupertino-spin 1.5s infinite linear;\n  }\n  .complete > svg {\n    animation: rap-cupertino-shrink 300ms 1;\n  }\n  @keyframes rap-cupertino-spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes rap-cupertino-bump {\n    from {\n      transform: scale(1.3);\n    }\n    to {\n      transform: scale(1);\n    }\n  }\n  @keyframes rap-cupertino-shrink {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(180deg) scale(0);\n    }\n  }\n}\n"],sourceRoot:""}]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},472:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/spinner-dark.10d0ea58.svg"},473:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/spinner.b75e6185.svg"},493:function(module,exports,__webpack_require__){__webpack_require__(494),__webpack_require__(654),__webpack_require__(655),__webpack_require__(868),__webpack_require__(869),__webpack_require__(875),__webpack_require__(876),__webpack_require__(874),__webpack_require__(871),__webpack_require__(877),__webpack_require__(872),__webpack_require__(873),__webpack_require__(878),module.exports=__webpack_require__(858)},561:function(module,exports){},655:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(354)},858:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(354).configure)([__webpack_require__(859),__webpack_require__(860)],module,!1)}).call(this,__webpack_require__(202)(module))},859:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=859},860:function(module,exports,__webpack_require__){var map={"./PullToRefresh.stories.tsx":870};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=860},870:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"OnTheTop",(function(){return PullToRefresh_stories_OnTheTop})),__webpack_require__.d(__webpack_exports__,"WithHeader",(function(){return PullToRefresh_stories_WithHeader})),__webpack_require__.d(__webpack_exports__,"ArtificialBounce",(function(){return PullToRefresh_stories_ArtificialBounce})),__webpack_require__.d(__webpack_exports__,"CustomSpinner",(function(){return PullToRefresh_stories_CustomSpinner})),__webpack_require__.d(__webpack_exports__,"CupertinoSpinnerAsCustomSpinner",(function(){return PullToRefresh_stories_CupertinoSpinnerAsCustomSpinner})),__webpack_require__.d(__webpack_exports__,"HiddenSpinnerDuringRefreshing",(function(){return PullToRefresh_stories_HiddenSpinnerDuringRefreshing})),__webpack_require__.d(__webpack_exports__,"InitiallyRefreshingWithHiddenSpinner",(function(){return PullToRefresh_stories_InitiallyRefreshingWithHiddenSpinner})),__webpack_require__.d(__webpack_exports__,"DarkMode",(function(){return PullToRefresh_stories_DarkMode}));var slicedToArray=__webpack_require__(44),slicedToArray_default=__webpack_require__.n(slicedToArray),react=(__webpack_require__(444),__webpack_require__(418),__webpack_require__(13),__webpack_require__(0)),classnames=(__webpack_require__(25),__webpack_require__(26),__webpack_require__(15),__webpack_require__(170)),classnames_default=__webpack_require__.n(classnames),injectStylesIntoStyleTag=__webpack_require__(138),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),CupertinoSpinner=__webpack_require__(301),options={insert:"head",singleton:!1},jsx_runtime=(injectStylesIntoStyleTag_default()(CupertinoSpinner.a,options),CupertinoSpinner.a.locals,__webpack_require__(8)),CupertinoSpinner_CupertinoSpinner=Object(react.forwardRef)((function(_ref,ref){var style=_ref.style,className=_ref.className,isDarkMode=_ref.isDarkMode,progress=_ref.progress,isRefreshing=_ref.isRefreshing,isTriggerReady=_ref.isTriggerReady,isComplete=_ref.isComplete,revisedProgress=Object(react.useMemo)((function(){return isComplete?1:progress}),[isComplete,progress]),stepUnit=Object(react.useMemo)((function(){return 45}),[]),progressAngle=Object(react.useMemo)((function(){return 360*revisedProgress}),[revisedProgress]);return Object(jsx_runtime.jsx)("div",{className:"rap-cupertino-spinner",style:style,children:Object(jsx_runtime.jsx)("div",{className:classnames_default()(className,{spin:isRefreshing,bump:isTriggerReady,complete:isComplete}),ref:ref,children:Object(jsx_runtime.jsx)("svg",{version:"1.1",viewBox:"-54 -54 108 108",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:Object(jsx_runtime.jsxs)("g",{strokeLinecap:"round",strokeWidth:12,opacity:"0.8",children:[Object(jsx_runtime.jsx)("path",{id:"a",d:"m0 20 0,18"}),Array.from({length:8}).map((function(_,index){var opacity=100;if(!isRefreshing){var revisedStepUnit=0,initAngle=0,exitAngle=0;0===index?(initAngle=0,exitAngle=revisedStepUnit=180):(initAngle=150+(index-2)*(revisedStepUnit=30),exitAngle=150+index*revisedStepUnit),opacity=initAngle>=progressAngle?0:Math.min(100*(progressAngle-initAngle)/(exitAngle-initAngle),100)}return Object(jsx_runtime.jsx)("use",{transform:"rotate("+(4>index?index*stepUnit+180:(index-4)*stepUnit)+")",stroke:isDarkMode?"#8d8d8d":"#757575",opacity:opacity+"%",xlinkHref:"#a"},index)}))]})})})})})),src_CupertinoSpinner_0=CupertinoSpinner_CupertinoSpinner;try{CupertinoSpinner_CupertinoSpinner.displayName="CupertinoSpinner",CupertinoSpinner_CupertinoSpinner.__docgenInfo={description:"",displayName:"CupertinoSpinner",props:{isRefreshing:{defaultValue:null,description:"",name:"isRefreshing",required:!0,type:{name:"boolean"}},isDarkMode:{defaultValue:null,description:"",name:"isDarkMode",required:!1,type:{name:"boolean"}},progress:{defaultValue:null,description:"",name:"progress",required:!0,type:{name:"number"}},isTriggerReady:{defaultValue:null,description:"",name:"isTriggerReady",required:!0,type:{name:"boolean"}},isComplete:{defaultValue:null,description:"",name:"isComplete",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/CupertinoSpinner.tsx#CupertinoSpinner"]={docgenInfo:CupertinoSpinner_CupertinoSpinner.__docgenInfo,name:"CupertinoSpinner",path:"src/CupertinoSpinner.tsx#CupertinoSpinner"})}catch(__react_docgen_typescript_loader_error){}var objectWithoutProperties=__webpack_require__(216),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),asyncToGenerator=__webpack_require__(471),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),regenerator=__webpack_require__(298),regenerator_default=__webpack_require__.n(regenerator),spinner=(__webpack_require__(57),__webpack_require__(7),__webpack_require__(473)),spinner_default=__webpack_require__.n(spinner),spinner_dark=__webpack_require__(472),spinner_dark_default=__webpack_require__.n(spinner_dark),DefaultSpinner=__webpack_require__(300),DefaultSpinner_options={insert:"head",singleton:!1},DefaultSpinner_DefaultSpinner=(injectStylesIntoStyleTag_default()(DefaultSpinner.a,DefaultSpinner_options),DefaultSpinner.a.locals,Object(react.forwardRef)((function(_ref,ref){var style=_ref.style,className=_ref.className,isDarkMode=_ref.isDarkMode;return Object(jsx_runtime.jsx)("div",{className:"react-awesome-ptr-spinner",style:style,children:Object(jsx_runtime.jsx)("img",{"data-testid":"spinner",alt:"",className:className,ref:ref,src:isDarkMode?spinner_dark_default.a:spinner_default.a})})}))),src_DefaultSpinner_0=DefaultSpinner_DefaultSpinner;try{DefaultSpinner_DefaultSpinner.displayName="DefaultSpinner",DefaultSpinner_DefaultSpinner.__docgenInfo={description:"",displayName:"DefaultSpinner",props:{isDarkMode:{defaultValue:null,description:"",name:"isDarkMode",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/DefaultSpinner.tsx#DefaultSpinner"]={docgenInfo:DefaultSpinner_DefaultSpinner.__docgenInfo,name:"DefaultSpinner",path:"src/DefaultSpinner.tsx#DefaultSpinner"})}catch(__react_docgen_typescript_loader_error){}var cjs_js_src_CommonPullToRefresh=__webpack_require__(299),CommonPullToRefresh_options={insert:"head",singleton:!1},_excluded=(injectStylesIntoStyleTag_default()(cjs_js_src_CommonPullToRefresh.a,CommonPullToRefresh_options),cjs_js_src_CommonPullToRefresh.a.locals,["targetRef","originTop","originMarginTop","triggerHeight","progressHeight","onRefresh","refreshDelay","isRefreshing","style","tension","className","spinnerSize","customSpinner","onPull","onRelease","onChangeState","completeDelay","isBounceSupported","isSpinnerHiddenDuringRefreshing","hideDelay","isDarkMode","spinnerZIndex","isDisabled","isOpacityChangeOnPullDisabled","isRotationSpinnerOnPullDisabled"]),CommonPullToRefresh_CommonPullToRefresh=function CommonPullToRefresh(_ref){var targetRef=_ref.targetRef,_ref$originTop=_ref.originTop,originTop=void 0===_ref$originTop?0:_ref$originTop,_ref$originMarginTop=_ref.originMarginTop,originMarginTop=void 0===_ref$originMarginTop?0:_ref$originMarginTop,_ref$triggerHeight=_ref.triggerHeight,triggerHeight=void 0===_ref$triggerHeight?80:_ref$triggerHeight,_ref$progressHeight=_ref.progressHeight,progressHeight=void 0===_ref$progressHeight?50:_ref$progressHeight,onRefresh=_ref.onRefresh,_ref$refreshDelay=_ref.refreshDelay,refreshDelay=void 0===_ref$refreshDelay?0:_ref$refreshDelay,isRefreshing=_ref.isRefreshing,style=_ref.style,_ref$tension=_ref.tension,tension=void 0===_ref$tension?.8:_ref$tension,className=_ref.className,_ref$spinnerSize=_ref.spinnerSize,spinnerSize=void 0===_ref$spinnerSize?32:_ref$spinnerSize,customSpinner=_ref.customSpinner,onPull=_ref.onPull,onRelease=_ref.onRelease,onChangeState=_ref.onChangeState,_ref$completeDelay=_ref.completeDelay,completeDelay=void 0===_ref$completeDelay?0:_ref$completeDelay,isBounceSupported=_ref.isBounceSupported,isSpinnerHiddenDuringRefreshing=_ref.isSpinnerHiddenDuringRefreshing,hideDelay=_ref.hideDelay,isDarkMode=_ref.isDarkMode,spinnerZIndex=_ref.spinnerZIndex,isDisabled=_ref.isDisabled,isOpacityChangeOnPullDisabled=_ref.isOpacityChangeOnPullDisabled,isRotationSpinnerOnPullDisabled=_ref.isRotationSpinnerOnPullDisabled,restProps=objectWithoutProperties_default()(_ref,_excluded),wrapperRef=Object(react.useRef)(null),spinnerRef=Object(react.useRef)(null),touchStartRef=Object(react.useRef)(null),isDisabledRef=Object(react.useRef)(!1),isRefreshingRef=Object(react.useRef)(!1),touchStartFuncRef=Object(react.useRef)((function(){})),touchMoveFuncRef=Object(react.useRef)((function(){})),touchEndFuncRef=Object(react.useRef)((function(){})),stateRef=Object(react.useRef)("idle"),pullToRefreshTimerRef=Object(react.useRef)(null),targetTimerRef=Object(react.useRef)(null),_useState=Object(react.useState)(isRefreshing),_useState2=slicedToArray_default()(_useState,2),isSpinnerSpinning=_useState2[0],setIsSpinnerSpinning=_useState2[1],DEFAULT_TARGET_MARGIN_TRANSITION=Object(react.useMemo)((function(){return isBounceSupported?"margin 0.7s cubic-bezier(0, 0, 0, 1)":"transform 0.35s cubic-bezier(.23, 1, .32, 1)"}),[isBounceSupported]),_useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),initialized=_useState4[0],setInitialized=_useState4[1],_useState5=Object(react.useState)(!1),_useState6=slicedToArray_default()(_useState5,2),shouldRefresh=_useState6[0],setShouldRefresh=_useState6[1],resetHeight=Object(react.useCallback)(asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var nextState,$target,$wrapper;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(nextState="refreshing"===stateRef.current?"complete":"idle",null==onChangeState||onChangeState(nextState),stateRef.current=nextState,$target=targetRef.current,!($wrapper=wrapperRef.current)){_context.next=13;break}if(_context.t0="complete"===nextState,!_context.t0){_context.next=10;break}return _context.next=10,new Promise((function(resolve){return setTimeout(resolve,completeDelay)}));case 10:$wrapper.classList.add("transition-enabled"),isOpacityChangeOnPullDisabled||($wrapper.style.opacity="0"),pullToRefreshTimerRef.current=window.setTimeout((function(){$wrapper.classList.remove("transition-enabled"),isRefreshingRef.current=isRefreshing,"idle"!==stateRef.current&&(null==onChangeState||onChangeState("idle"),stateRef.current="idle",setIsSpinnerSpinning(!1))}),350);case 13:$target&&(isBounceSupported?($target.style.marginTop=originMarginTop+"px",$target.style.transition="margin 0.2s cubic-bezier(0, 0, 0, 1)"):($target.style.transform="translateY(0px)",$target.style.transition=DEFAULT_TARGET_MARGIN_TRANSITION,touchStartRef.current=null),targetTimerRef.current=window.setTimeout((function(){$target.style.transition=isBounceSupported?DEFAULT_TARGET_MARGIN_TRANSITION:"none"}),350));case 14:case"end":return _context.stop()}}),_callee)}))),[onChangeState,targetRef,completeDelay,isRefreshing,isBounceSupported,originMarginTop,DEFAULT_TARGET_MARGIN_TRANSITION,isOpacityChangeOnPullDisabled]),refresh=Object(react.useCallback)((function(){var $target=targetRef.current;$target&&(isBounceSupported?$target.style.marginTop=progressHeight+originMarginTop+"px":($target.style.transition=DEFAULT_TARGET_MARGIN_TRANSITION,$target.style.transform="translateY("+progressHeight+"px)")),isRefreshingRef.current=!0,"refreshing"!==stateRef.current&&(null==onChangeState||onChangeState("refreshing"),stateRef.current="refreshing",setIsSpinnerSpinning(!0)),setShouldRefresh(!1),refreshDelay?setTimeout((function(){onRefresh()}),refreshDelay):onRefresh()}),[targetRef,refreshDelay,isBounceSupported,DEFAULT_TARGET_MARGIN_TRANSITION,progressHeight,originMarginTop,onChangeState,onRefresh]),checkOffsetPosition=Object(react.useCallback)((function(){if(isBounceSupported){var $target=targetRef.current;$target&&(isDisabledRef.current=$target.getClientRects()[0].top<originTop)}else"idle"===stateRef.current&&(isDisabledRef.current=window.scrollY-1>originTop);return isDisabledRef.current}),[isBounceSupported,targetRef,originTop]),checkConditionAndRun=Object(react.useCallback)((function(fn,hasToCheckOffsetPosition){hasToCheckOffsetPosition&&checkOffsetPosition(),isRefreshingRef.current||isDisabledRef.current||isRefreshing||fn()}),[checkOffsetPosition,isRefreshing]),showSpinner=Object(react.useCallback)((function(height){var $wrapper=wrapperRef.current,$target=targetRef.current,$spinner=spinnerRef.current;if($wrapper)if(!$target||isBounceSupported||isRefreshingRef.current||($target.style.transform="translateY("+height+"px)"),height<triggerHeight){if(setShouldRefresh(!1),null==onPull||onPull(height/triggerHeight),"pulling"!==stateRef.current&&(null==onChangeState||onChangeState("pulling"),stateRef.current="pulling"),isOpacityChangeOnPullDisabled||($wrapper.style.opacity=""+height/triggerHeight),$spinner){if(!isRotationSpinnerOnPullDisabled){var rotate="rotate("+height/triggerHeight*360+"deg)";$spinner.style.webkitTransform=rotate,$spinner.style.transform=rotate}$spinner.classList.contains("bump")&&$spinner.classList.remove("bump")}}else if(null==onPull||onPull(1),isOpacityChangeOnPullDisabled||($wrapper.style.opacity="1"),setShouldRefresh(!0),"triggerReady"!==stateRef.current&&(null==onChangeState||onChangeState("triggerReady"),stateRef.current="triggerReady"),$spinner){if(!isRotationSpinnerOnPullDisabled){$spinner.style.webkitTransform="rotate(360deg)",$spinner.style.transform="rotate(360deg)"}$spinner.classList.add("bump")}}),[targetRef,triggerHeight,onChangeState,onPull,isBounceSupported,isOpacityChangeOnPullDisabled,isRotationSpinnerOnPullDisabled]),handleOnTouchMove=Object(react.useCallback)((function(e){var $target=targetRef.current;if(isBounceSupported){if($target){var height=$target.getClientRects()[0].top-originTop;if(height<=0||isNaN(height))return;showSpinner(height)}}else if($target&&null!==touchStartRef.current){var _height=e.touches[0].clientY-touchStartRef.current;if(_height<=0||isNaN(_height))return;var poweredHeight=Math.pow(_height,tension);showSpinner(poweredHeight)}}),[showSpinner,tension,isBounceSupported,originTop,targetRef]),setTouchStart=Object(react.useCallback)((function(e){var $target=targetRef.current;$target&&$target.getClientRects()[0].top>=originTop&&(touchStartRef.current=e.touches[0].clientY)}),[originTop,targetRef]);return Object(react.useEffect)((function(){isBounceSupported||(touchStartFuncRef.current=function(e){requestAnimationFrame((function(){checkConditionAndRun((function(){return setTouchStart(e)}),!0)}))}),touchMoveFuncRef.current=function(e){isBounceSupported||"idle"===stateRef.current||e.cancelable&&e.preventDefault(),requestAnimationFrame((function(){checkConditionAndRun((function(){return handleOnTouchMove(e)}))}))},touchEndFuncRef.current=function(){shouldRefresh&&!isRefreshingRef.current?(null==onRelease||onRelease(),null==onPull||onPull(0),requestAnimationFrame(refresh)):isRefreshing||(null==onRelease||onRelease(),null==onPull||onPull(0),requestAnimationFrame(resetHeight))};var $target=targetRef.current;if($target&&!isDisabled)return!isBounceSupported&&$target.addEventListener("touchstart",touchStartFuncRef.current),$target.addEventListener("touchmove",touchMoveFuncRef.current),$target.addEventListener("touchend",touchEndFuncRef.current),function(){!isBounceSupported&&$target.removeEventListener("touchstart",touchStartFuncRef.current),$target.removeEventListener("touchmove",touchMoveFuncRef.current),$target.removeEventListener("touchend",touchEndFuncRef.current)};!isRefreshing&&resetHeight()}),[checkConditionAndRun,resetHeight,showSpinner,handleOnTouchMove,shouldRefresh,refresh,isRefreshing,targetRef,onRelease,onPull,setTouchStart,isBounceSupported,isDisabled]),Object(react.useEffect)((function(){isRefreshingRef.current=isRefreshing,(!isRefreshing||isRefreshing&&isSpinnerHiddenDuringRefreshing)&&(hideDelay?setTimeout(resetHeight,hideDelay):resetHeight())}),[isRefreshing,resetHeight,isSpinnerHiddenDuringRefreshing,hideDelay]),Object(react.useEffect)((function(){if(!isBounceSupported){var $wrapper=wrapperRef.current;initialized||(isRefreshing&&!isSpinnerHiddenDuringRefreshing&&(showSpinner(triggerHeight),$wrapper&&($wrapper.style.height=triggerHeight+"px")),setInitialized(!0))}}),[initialized,isRefreshing,triggerHeight,showSpinner,isBounceSupported,isSpinnerHiddenDuringRefreshing]),Object(react.useEffect)((function(){if(isBounceSupported){var $target=targetRef.current;$target&&($target.style.transition=DEFAULT_TARGET_MARGIN_TRANSITION)}}),[targetRef,isBounceSupported,DEFAULT_TARGET_MARGIN_TRANSITION]),Object(react.useEffect)((function(){return function(){pullToRefreshTimerRef.current&&clearTimeout(pullToRefreshTimerRef.current),targetTimerRef.current&&clearTimeout(targetTimerRef.current)}}),[resetHeight]),Object(jsx_runtime.jsx)("div",Object.assign({"data-testid":"spinner-container",className:classnames_default()("react-awesome-ptr",isBounceSupported?"for-bounce":"for-no-bounce",isOpacityChangeOnPullDisabled?"fixed-opacity":void 0,className),ref:wrapperRef},restProps,{style:Object.assign({top:originTop,zIndex:spinnerZIndex},style),children:customSpinner||Object(jsx_runtime.jsx)(src_DefaultSpinner_0,{className:classnames_default()({spin:isSpinnerSpinning}),ref:spinnerRef,style:{marginTop:(progressHeight-spinnerSize)/2,width:spinnerSize},isDarkMode:isDarkMode})}))};CommonPullToRefresh_CommonPullToRefresh.displayName="CommonPullToRefresh";var src_CommonPullToRefresh_0=CommonPullToRefresh_CommonPullToRefresh;try{CommonPullToRefresh_CommonPullToRefresh.displayName="CommonPullToRefresh",CommonPullToRefresh_CommonPullToRefresh.__docgenInfo={description:"",displayName:"CommonPullToRefresh",props:{targetRef:{defaultValue:null,description:"",name:"targetRef",required:!0,type:{name:"RefObject<HTMLElement>"}},originTop:{defaultValue:{value:"0"},description:"",name:"originTop",required:!1,type:{name:"number"}},originMarginTop:{defaultValue:{value:"0"},description:"",name:"originMarginTop",required:!1,type:{name:"number"}},triggerHeight:{defaultValue:{value:"80"},description:"",name:"triggerHeight",required:!1,type:{name:"number"}},progressHeight:{defaultValue:{value:"50"},description:"",name:"progressHeight",required:!1,type:{name:"number"}},onRefresh:{defaultValue:null,description:"",name:"onRefresh",required:!0,type:{name:"VoidFunction"}},refreshDelay:{defaultValue:{value:"0"},description:"",name:"refreshDelay",required:!1,type:{name:"number"}},isRefreshing:{defaultValue:null,description:"",name:"isRefreshing",required:!0,type:{name:"boolean"}},spinnerSize:{defaultValue:{value:"32"},description:"",name:"spinnerSize",required:!1,type:{name:"number"}},customSpinner:{defaultValue:null,description:"",name:"customSpinner",required:!1,type:{name:"ReactNode"}},onPull:{defaultValue:null,description:"",name:"onPull",required:!1,type:{name:"((progress: number) => void)"}},onRelease:{defaultValue:null,description:"",name:"onRelease",required:!1,type:{name:"VoidFunction"}},onChangeState:{defaultValue:null,description:"",name:"onChangeState",required:!1,type:{name:"((state: PullToRefreshState) => void)"}},completeDelay:{defaultValue:{value:"0"},description:"",name:"completeDelay",required:!1,type:{name:"number"}},isBounceSupported:{defaultValue:null,description:"",name:"isBounceSupported",required:!1,type:{name:"boolean"}},tension:{defaultValue:{value:"0.8"},description:"",name:"tension",required:!1,type:{name:"number"}},isSpinnerHiddenDuringRefreshing:{defaultValue:null,description:"",name:"isSpinnerHiddenDuringRefreshing",required:!1,type:{name:"boolean"}},hideDelay:{defaultValue:null,description:"",name:"hideDelay",required:!1,type:{name:"number"}},isDarkMode:{defaultValue:null,description:"",name:"isDarkMode",required:!1,type:{name:"boolean"}},spinnerZIndex:{defaultValue:null,description:"",name:"spinnerZIndex",required:!1,type:{name:"number"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},isOpacityChangeOnPullDisabled:{defaultValue:null,description:"",name:"isOpacityChangeOnPullDisabled",required:!1,type:{name:"boolean"}},isRotationSpinnerOnPullDisabled:{defaultValue:null,description:"",name:"isRotationSpinnerOnPullDisabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/CommonPullToRefresh.tsx#CommonPullToRefresh"]={docgenInfo:CommonPullToRefresh_CommonPullToRefresh.__docgenInfo,name:"CommonPullToRefresh",path:"src/CommonPullToRefresh.tsx#CommonPullToRefresh"})}catch(__react_docgen_typescript_loader_error){}var PullToRefresh_excluded=["isBounceSupported","isBounceNotSupported","hasDefaultPullToRefreshPossibly"],PullToRefresh_PullToRefresh=function PullToRefresh(_ref){var isBounceSupported=_ref.isBounceSupported,isBounceNotSupported=_ref.isBounceNotSupported,hasDefaultPullToRefreshPossibly=_ref.hasDefaultPullToRefreshPossibly,props=objectWithoutProperties_default()(_ref,PullToRefresh_excluded),_useMemo=Object(react.useMemo)((function(){var isSSR="undefined"==typeof window;return{isSSR:isSSR,isIos:!isSSR&&/iPhone|iPad|iPod|Io\//i.test(navigator.userAgent)}}),[]),isSSR=_useMemo.isSSR,isIos=_useMemo.isIos,hasDefaultPullToRefresh=Object(react.useMemo)((function(){return isIos&&hasDefaultPullToRefreshPossibly&&/OS 15/.test(navigator.userAgent)&&/Safari/.test(navigator.userAgent)}),[isIos,hasDefaultPullToRefreshPossibly]);Object(react.useEffect)((function(){if(!isSSR){var originValue=document.body.style.overscrollBehaviorY;return document.body.style.overscrollBehaviorY="contain",function(){document.body.style.overscrollBehaviorY=originValue}}}),[isSSR]);var isBounceSupportedProp=Object(react.useMemo)((function(){return(isBounceSupported||isIos&&!isBounceNotSupported)&&(void 0===hasDefaultPullToRefreshPossibly||!hasDefaultPullToRefresh)}),[isBounceSupported,isIos,isBounceNotSupported,hasDefaultPullToRefreshPossibly,hasDefaultPullToRefresh]);return isSSR?null:Object(jsx_runtime.jsx)(src_CommonPullToRefresh_0,Object.assign({},props,{isBounceSupported:isBounceSupportedProp}))},src_PullToRefresh=PullToRefresh_PullToRefresh;try{PullToRefresh_PullToRefresh.displayName="PullToRefresh",PullToRefresh_PullToRefresh.__docgenInfo={description:"",displayName:"PullToRefresh",props:{isBounceSupported:{defaultValue:null,description:"",name:"isBounceSupported",required:!1,type:{name:"boolean"}},isBounceNotSupported:{defaultValue:null,description:"",name:"isBounceNotSupported",required:!1,type:{name:"boolean"}},hasDefaultPullToRefreshPossibly:{defaultValue:null,description:"",name:"hasDefaultPullToRefreshPossibly",required:!1,type:{name:"boolean"}},targetRef:{defaultValue:null,description:"",name:"targetRef",required:!0,type:{name:"RefObject<HTMLElement>"}},originTop:{defaultValue:null,description:"",name:"originTop",required:!1,type:{name:"number"}},originMarginTop:{defaultValue:null,description:"",name:"originMarginTop",required:!1,type:{name:"number"}},triggerHeight:{defaultValue:null,description:"",name:"triggerHeight",required:!1,type:{name:"number"}},progressHeight:{defaultValue:null,description:"",name:"progressHeight",required:!1,type:{name:"number"}},onRefresh:{defaultValue:null,description:"",name:"onRefresh",required:!0,type:{name:"VoidFunction"}},refreshDelay:{defaultValue:null,description:"",name:"refreshDelay",required:!1,type:{name:"number"}},isRefreshing:{defaultValue:null,description:"",name:"isRefreshing",required:!0,type:{name:"boolean"}},spinnerSize:{defaultValue:null,description:"",name:"spinnerSize",required:!1,type:{name:"number"}},customSpinner:{defaultValue:null,description:"",name:"customSpinner",required:!1,type:{name:"ReactNode"}},onPull:{defaultValue:null,description:"",name:"onPull",required:!1,type:{name:"((progress: number) => void)"}},onRelease:{defaultValue:null,description:"",name:"onRelease",required:!1,type:{name:"VoidFunction"}},onChangeState:{defaultValue:null,description:"",name:"onChangeState",required:!1,type:{name:"((state: PullToRefreshState) => void)"}},completeDelay:{defaultValue:null,description:"",name:"completeDelay",required:!1,type:{name:"number"}},tension:{defaultValue:null,description:"",name:"tension",required:!1,type:{name:"number"}},isSpinnerHiddenDuringRefreshing:{defaultValue:null,description:"",name:"isSpinnerHiddenDuringRefreshing",required:!1,type:{name:"boolean"}},hideDelay:{defaultValue:null,description:"",name:"hideDelay",required:!1,type:{name:"number"}},isDarkMode:{defaultValue:null,description:"",name:"isDarkMode",required:!1,type:{name:"boolean"}},spinnerZIndex:{defaultValue:null,description:"",name:"spinnerZIndex",required:!1,type:{name:"number"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},isOpacityChangeOnPullDisabled:{defaultValue:null,description:"",name:"isOpacityChangeOnPullDisabled",required:!1,type:{name:"boolean"}},isRotationSpinnerOnPullDisabled:{defaultValue:null,description:"",name:"isRotationSpinnerOnPullDisabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/PullToRefresh.tsx#PullToRefresh"]={docgenInfo:PullToRefresh_PullToRefresh.__docgenInfo,name:"PullToRefresh",path:"src/PullToRefresh.tsx#PullToRefresh"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"PullToRefresh",component:src_PullToRefresh};var PullToRefresh_stories_OnTheTop=function OnTheTop(){var targetRef=Object(react.useRef)(null),_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),isRefreshing=_useState2[0],setIsRefreshing=_useState2[1],_useState3=Object(react.useState)(0),_useState4=slicedToArray_default()(_useState3,2),progress=_useState4[0],setProgress=_useState4[1],_useState5=Object(react.useState)(0),_useState6=slicedToArray_default()(_useState5,2),releaseCnt=_useState6[0],setReleaseCnt=_useState6[1],_useState7=Object(react.useState)(0),_useState8=slicedToArray_default()(_useState7,2),refreshCnt=_useState8[0],setRefreshCnt=_useState8[1],_useState9=Object(react.useState)("idle"),_useState10=slicedToArray_default()(_useState9,2),pullToRefreshState=_useState10[0],setPullToRefreshState=_useState10[1],onRefresh=Object(react.useCallback)((function(){setRefreshCnt((function(cnt){return++cnt})),setIsRefreshing(!0),setTimeout((function(){setIsRefreshing(!1)}),3e3)}),[]),onPull=Object(react.useCallback)((function(progress){setProgress(progress)}),[]),onRelease=Object(react.useCallback)((function(){setReleaseCnt((function(cnt){return++cnt}))}),[]),onChangeState=Object(react.useCallback)((function(state){setPullToRefreshState(state)}),[]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(src_PullToRefresh,{targetRef:targetRef,onRefresh:onRefresh,isRefreshing:isRefreshing,onPull:onPull,onRelease:onRelease,onChangeState:onChangeState,hasDefaultPullToRefreshPossibly:!0}),Object(jsx_runtime.jsxs)("div",{style:{height:"100vh",background:"pink",padding:20},ref:targetRef,children:[Object(jsx_runtime.jsx)("p",{children:"Pull in a mobile browser"}),Object(jsx_runtime.jsxs)("p",{children:["onPull: passed progress is ",progress]}),Object(jsx_runtime.jsxs)("p",{children:["onRelease: called ",releaseCnt," times"]}),Object(jsx_runtime.jsxs)("p",{children:["onRefresh: called ",refreshCnt," times"]}),Object(jsx_runtime.jsxs)("p",{children:["state: ",pullToRefreshState]})]})]})},PullToRefresh_stories_WithHeader=function WithHeader(){var targetRef=Object(react.useRef)(null),_useState11=Object(react.useState)(!1),_useState12=slicedToArray_default()(_useState11,2),isRefreshing=_useState12[0],setIsRefreshing=_useState12[1],onRefresh=Object(react.useCallback)((function(){setIsRefreshing(!0),setTimeout((function(){setIsRefreshing(!1)}),3e3)}),[]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{style:{height:60,background:"cyan",padding:20,position:"fixed",top:0,width:"100%",zIndex:1},children:"Header"}),Object(jsx_runtime.jsx)(src_PullToRefresh,{targetRef:targetRef,onRefresh:onRefresh,isRefreshing:isRefreshing,originTop:100,originMarginTop:100,hasDefaultPullToRefreshPossibly:!0}),Object(jsx_runtime.jsx)("div",{style:{height:"100vh",background:"pink",padding:20,marginTop:100},ref:targetRef,children:"Pull in a mobile browser"})]})},PullToRefresh_stories_ArtificialBounce=function ArtificialBounce(){var targetRef=Object(react.useRef)(null),_useState13=Object(react.useState)(!1),_useState14=slicedToArray_default()(_useState13,2),isRefreshing=_useState14[0],setIsRefreshing=_useState14[1],onRefresh=Object(react.useCallback)((function(){setIsRefreshing(!0),setTimeout((function(){setIsRefreshing(!1)}),3e3)}),[]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(src_PullToRefresh,{targetRef:targetRef,onRefresh:onRefresh,isRefreshing:isRefreshing,isBounceNotSupported:!0}),Object(jsx_runtime.jsx)("div",{style:{height:"100vh",background:"pink",padding:20},ref:targetRef,children:"Pull in a mobile browser (forced artificial bounce)"})]})},PullToRefresh_stories_CustomSpinner=function CustomSpinner(){var targetRef=Object(react.useRef)(null),_useState15=Object(react.useState)(!1),_useState16=slicedToArray_default()(_useState15,2),isRefreshing=_useState16[0],setIsRefreshing=_useState16[1],_useState17=Object(react.useState)(0),_useState18=slicedToArray_default()(_useState17,2),progress=_useState18[0],setProgress=_useState18[1],_useState19=Object(react.useState)("idle"),_useState20=slicedToArray_default()(_useState19,2),pullToRefreshState=_useState20[0],setPullToRefreshState=_useState20[1],onRefresh=Object(react.useCallback)((function(){setIsRefreshing(!0),setTimeout((function(){setIsRefreshing(!1)}),3e3)}),[]),onPull=Object(react.useCallback)((function(progress){setProgress(progress)}),[]),onChangeState=Object(react.useCallback)((function(state){setPullToRefreshState(state)}),[]),customSpinner=Object(react.useMemo)((function(){return Object(jsx_runtime.jsx)("div",{style:{textAlign:"center",marginTop:15},children:"triggerReady"===pullToRefreshState?"⬆️ Release":"refreshing"===pullToRefreshState?"Refreshing...":"complete"===pullToRefreshState?"Complete":"⬇️ Pull to refresh ("+(100*progress).toFixed()+"%)"})}),[pullToRefreshState,isRefreshing,progress]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(src_PullToRefresh,{targetRef:targetRef,onRefresh:onRefresh,isRefreshing:isRefreshing,onPull:onPull,onChangeState:onChangeState,customSpinner:customSpinner,completeDelay:500,hasDefaultPullToRefreshPossibly:!0}),Object(jsx_runtime.jsx)("div",{style:{height:"100vh",background:"pink",padding:20},ref:targetRef,children:Object(jsx_runtime.jsx)("p",{children:"Pull in a mobile browser (custom spinner)"})})]})},PullToRefresh_stories_CupertinoSpinnerAsCustomSpinner=function CupertinoSpinnerAsCustomSpinner(){var targetRef=Object(react.useRef)(null),_useState21=Object(react.useState)(!1),_useState22=slicedToArray_default()(_useState21,2),isRefreshing=_useState22[0],setIsRefreshing=_useState22[1],_useState23=Object(react.useState)(0),_useState24=slicedToArray_default()(_useState23,2),progress=_useState24[0],setProgress=_useState24[1],_useState25=Object(react.useState)("idle"),_useState26=slicedToArray_default()(_useState25,2),pullToRefreshState=_useState26[0],setPullToRefreshState=_useState26[1],_useMemo=Object(react.useMemo)((function(){return{isTriggerReady:"triggerReady"===pullToRefreshState,isComplete:"complete"===pullToRefreshState}}),[pullToRefreshState]),isTriggerReady=_useMemo.isTriggerReady,isComplete=_useMemo.isComplete,onRefresh=Object(react.useCallback)((function(){setIsRefreshing(!0),setTimeout((function(){setIsRefreshing(!1)}),3e3)}),[]),onPull=Object(react.useCallback)((function(progress){setProgress(progress)}),[]),onChangeState=Object(react.useCallback)((function(state){setPullToRefreshState(state)}),[]),customSpinner=Object(react.useMemo)((function(){return Object(jsx_runtime.jsx)(src_CupertinoSpinner_0,{progress:progress,isRefreshing:isRefreshing,isTriggerReady:isTriggerReady,isComplete:isComplete})}),[pullToRefreshState,progress,isRefreshing,isTriggerReady,isComplete]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(src_PullToRefresh,{targetRef:targetRef,onRefresh:onRefresh,isRefreshing:isRefreshing,onPull:onPull,onChangeState:onChangeState,customSpinner:customSpinner,hasDefaultPullToRefreshPossibly:!0,isOpacityChangeOnPullDisabled:!0,isRotationSpinnerOnPullDisabled:!0,completeDelay:200}),Object(jsx_runtime.jsx)("div",{style:{height:"100vh",background:"pink",padding:20},ref:targetRef,children:Object(jsx_runtime.jsx)("p",{children:"Pull in a mobile browser (CupertinoSpinner as custom spinner)"})})]})},PullToRefresh_stories_HiddenSpinnerDuringRefreshing=function HiddenSpinnerDuringRefreshing(){var targetRef=Object(react.useRef)(null),_useState27=Object(react.useState)(!1),_useState28=slicedToArray_default()(_useState27,2),isRefreshing=_useState28[0],setIsRefreshing=_useState28[1],onRefresh=Object(react.useCallback)((function(){setIsRefreshing(!0),setTimeout((function(){setIsRefreshing(!1)}),3e3)}),[]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(src_PullToRefresh,{targetRef:targetRef,onRefresh:onRefresh,isRefreshing:isRefreshing,isSpinnerHiddenDuringRefreshing:!0,hasDefaultPullToRefreshPossibly:!0}),Object(jsx_runtime.jsxs)("div",{style:{height:"100vh",background:"pink",padding:20},ref:targetRef,children:[Object(jsx_runtime.jsx)("p",{children:"Pull in a mobile browser (hidden spinner during refreshing)"}),Object(jsx_runtime.jsx)("p",{children:isRefreshing?"Refreshing...":""})]})]})},PullToRefresh_stories_InitiallyRefreshingWithHiddenSpinner=function InitiallyRefreshingWithHiddenSpinner(){var targetRef=Object(react.useRef)(null),_useState29=Object(react.useState)(!0),_useState30=slicedToArray_default()(_useState29,2),isRefreshing=_useState30[0],setIsRefreshing=_useState30[1],onRefresh=Object(react.useCallback)((function(){setIsRefreshing(!0),setTimeout((function(){setIsRefreshing(!1)}),3e3)}),[]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(src_PullToRefresh,{targetRef:targetRef,onRefresh:onRefresh,isRefreshing:isRefreshing,isSpinnerHiddenDuringRefreshing:!0,hasDefaultPullToRefreshPossibly:!0}),Object(jsx_runtime.jsxs)("div",{style:{height:"100vh",background:"pink",padding:20},ref:targetRef,children:[Object(jsx_runtime.jsx)("p",{children:"Pull in a mobile browser (hidden spinner during refreshing)"}),Object(jsx_runtime.jsx)("p",{children:isRefreshing?"Refreshing...":""})]})]})},PullToRefresh_stories_DarkMode=function DarkMode(){var targetRef=Object(react.useRef)(null),_useState31=Object(react.useState)(!1),_useState32=slicedToArray_default()(_useState31,2),isRefreshing=_useState32[0],setIsRefreshing=_useState32[1],onRefresh=Object(react.useCallback)((function(){setIsRefreshing(!0),setTimeout((function(){setIsRefreshing(!1)}),3e3)}),[]);return Object(react.useEffect)((function(){var originBackgroundColor=document.body.style.backgroundColor;return document.body.style.backgroundColor="#000",function(){document.body.style.backgroundColor=originBackgroundColor}}),[]),Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(src_PullToRefresh,{targetRef:targetRef,onRefresh:onRefresh,isRefreshing:isRefreshing,isDarkMode:!0,hasDefaultPullToRefreshPossibly:!0}),Object(jsx_runtime.jsx)("div",{style:{height:"100vh",background:"pink",padding:20},ref:targetRef,children:"Pull in a mobile browser (dark mode)"})]})};PullToRefresh_stories_OnTheTop.parameters=Object.assign({storySource:{source:'() => {\n  const targetRef = useRef<HTMLDivElement>(null);\n\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  const [progress, setProgress] = useState(0);\n  const [releaseCnt, setReleaseCnt] = useState(0);\n  const [refreshCnt, setRefreshCnt] = useState(0);\n  const [pullToRefreshState, setPullToRefreshState] = useState<PullToRefreshState>(\n    "idle",\n  );\n\n  const onRefresh = useCallback(() => {\n    setRefreshCnt((cnt) => ++cnt);\n    setIsRefreshing(true);\n    setTimeout(() => {\n      setIsRefreshing(false);\n    }, 3000);\n  }, []);\n\n  const onPull = useCallback((progress: number) => {\n    setProgress(progress);\n  }, []);\n\n  const onRelease = useCallback(() => {\n    setReleaseCnt((cnt) => ++cnt);\n  }, []);\n\n  const onChangeState = useCallback((state: PullToRefreshState) => {\n    setPullToRefreshState(state);\n  }, []);\n\n  return (\n    <>\n      <PullToRefresh\n        targetRef={targetRef}\n        onRefresh={onRefresh}\n        isRefreshing={isRefreshing}\n        onPull={onPull}\n        onRelease={onRelease}\n        onChangeState={onChangeState}\n        hasDefaultPullToRefreshPossibly\n      />\n      <div style={{ height: "100vh", background: "pink", padding: 20 }} ref={targetRef}>\n        <p>Pull in a mobile browser</p>\n        <p>onPull: passed progress is {progress}</p>\n        <p>onRelease: called {releaseCnt} times</p>\n        <p>onRefresh: called {refreshCnt} times</p>\n        <p>state: {pullToRefreshState}</p>\n      </div>\n    </>\n  );\n}'}},PullToRefresh_stories_OnTheTop.parameters),PullToRefresh_stories_WithHeader.parameters=Object.assign({storySource:{source:'() => {\n  const targetRef = useRef<HTMLDivElement>(null);\n\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  const onRefresh = useCallback(() => {\n    setIsRefreshing(true);\n    setTimeout(() => {\n      setIsRefreshing(false);\n    }, 3000);\n  }, []);\n\n  return (\n    <>\n      <div\n        style={{\n          height: 60,\n          background: "cyan",\n          padding: 20,\n          position: "fixed",\n          top: 0,\n          width: "100%",\n          zIndex: 1,\n        }}\n      >\n        Header\n      </div>\n      <PullToRefresh\n        targetRef={targetRef}\n        onRefresh={onRefresh}\n        isRefreshing={isRefreshing}\n        originTop={100}\n        originMarginTop={100}\n        hasDefaultPullToRefreshPossibly\n      />\n      <div\n        style={{ height: "100vh", background: "pink", padding: 20, marginTop: 100 }}\n        ref={targetRef}\n      >\n        Pull in a mobile browser\n      </div>\n    </>\n  );\n}'}},PullToRefresh_stories_WithHeader.parameters),PullToRefresh_stories_ArtificialBounce.parameters=Object.assign({storySource:{source:'() => {\n  const targetRef = useRef<HTMLDivElement>(null);\n\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  const onRefresh = useCallback(() => {\n    setIsRefreshing(true);\n    setTimeout(() => {\n      setIsRefreshing(false);\n    }, 3000);\n  }, []);\n\n  return (\n    <>\n      <PullToRefresh\n        targetRef={targetRef}\n        onRefresh={onRefresh}\n        isRefreshing={isRefreshing}\n        isBounceNotSupported\n      />\n      <div style={{ height: "100vh", background: "pink", padding: 20 }} ref={targetRef}>\n        Pull in a mobile browser (forced artificial bounce)\n      </div>\n    </>\n  );\n}'}},PullToRefresh_stories_ArtificialBounce.parameters),PullToRefresh_stories_CustomSpinner.parameters=Object.assign({storySource:{source:'() => {\n  const targetRef = useRef<HTMLDivElement>(null);\n\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  const [progress, setProgress] = useState(0);\n  const [pullToRefreshState, setPullToRefreshState] = useState("idle");\n\n  const onRefresh = useCallback(() => {\n    setIsRefreshing(true);\n    setTimeout(() => {\n      setIsRefreshing(false);\n    }, 3000);\n  }, []);\n\n  const onPull = useCallback((progress: number) => {\n    setProgress(progress);\n  }, []);\n\n  const onChangeState = useCallback((state: PullToRefreshState) => {\n    setPullToRefreshState(state);\n  }, []);\n\n  const customSpinner = useMemo(() => {\n    return (\n      <div style={{ textAlign: "center", marginTop: 15 }}>\n        {pullToRefreshState === "triggerReady"\n          ? "⬆️ Release"\n          : pullToRefreshState === "refreshing"\n          ? "Refreshing..."\n          : pullToRefreshState === "complete"\n          ? "Complete"\n          : `⬇️ Pull to refresh (${(progress * 100).toFixed()}%)`}\n      </div>\n    );\n  }, [pullToRefreshState, isRefreshing, progress]);\n\n  return (\n    <>\n      <PullToRefresh\n        targetRef={targetRef}\n        onRefresh={onRefresh}\n        isRefreshing={isRefreshing}\n        onPull={onPull}\n        onChangeState={onChangeState}\n        customSpinner={customSpinner}\n        completeDelay={500}\n        hasDefaultPullToRefreshPossibly\n      />\n      <div style={{ height: "100vh", background: "pink", padding: 20 }} ref={targetRef}>\n        <p>Pull in a mobile browser (custom spinner)</p>\n      </div>\n    </>\n  );\n}'}},PullToRefresh_stories_CustomSpinner.parameters),PullToRefresh_stories_CupertinoSpinnerAsCustomSpinner.parameters=Object.assign({storySource:{source:'() => {\n  const targetRef = useRef<HTMLDivElement>(null);\n\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  const [progress, setProgress] = useState(0);\n  const [pullToRefreshState, setPullToRefreshState] = useState<PullToRefreshState>(\n    "idle",\n  );\n\n  const { isTriggerReady, isComplete } = useMemo(() => {\n    return {\n      isTriggerReady: pullToRefreshState === "triggerReady",\n      isComplete: pullToRefreshState === "complete",\n    };\n  }, [pullToRefreshState]);\n\n  const onRefresh = useCallback(() => {\n    setIsRefreshing(true);\n    setTimeout(() => {\n      setIsRefreshing(false);\n    }, 3000);\n  }, []);\n\n  const onPull = useCallback((progress: number) => {\n    setProgress(progress);\n  }, []);\n\n  const onChangeState = useCallback((state: PullToRefreshState) => {\n    setPullToRefreshState(state);\n  }, []);\n\n  const customSpinner = useMemo(() => {\n    return (\n      <CupertinoSpinner\n        progress={progress}\n        isRefreshing={isRefreshing}\n        isTriggerReady={isTriggerReady}\n        isComplete={isComplete}\n      />\n    );\n  }, [pullToRefreshState, progress, isRefreshing, isTriggerReady, isComplete]);\n\n  return (\n    <>\n      <PullToRefresh\n        targetRef={targetRef}\n        onRefresh={onRefresh}\n        isRefreshing={isRefreshing}\n        onPull={onPull}\n        onChangeState={onChangeState}\n        customSpinner={customSpinner}\n        hasDefaultPullToRefreshPossibly\n        isOpacityChangeOnPullDisabled\n        isRotationSpinnerOnPullDisabled\n        completeDelay={200}\n      />\n      <div style={{ height: "100vh", background: "pink", padding: 20 }} ref={targetRef}>\n        <p>Pull in a mobile browser (CupertinoSpinner as custom spinner)</p>\n      </div>\n    </>\n  );\n}'}},PullToRefresh_stories_CupertinoSpinnerAsCustomSpinner.parameters),PullToRefresh_stories_HiddenSpinnerDuringRefreshing.parameters=Object.assign({storySource:{source:'() => {\n  const targetRef = useRef<HTMLDivElement>(null);\n\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  const onRefresh = useCallback(() => {\n    setIsRefreshing(true);\n    setTimeout(() => {\n      setIsRefreshing(false);\n    }, 3000);\n  }, []);\n\n  return (\n    <>\n      <PullToRefresh\n        targetRef={targetRef}\n        onRefresh={onRefresh}\n        isRefreshing={isRefreshing}\n        isSpinnerHiddenDuringRefreshing\n        hasDefaultPullToRefreshPossibly\n      />\n      <div style={{ height: "100vh", background: "pink", padding: 20 }} ref={targetRef}>\n        <p>Pull in a mobile browser (hidden spinner during refreshing)</p>\n        <p>{isRefreshing ? "Refreshing..." : ""}</p>\n      </div>\n    </>\n  );\n}'}},PullToRefresh_stories_HiddenSpinnerDuringRefreshing.parameters),PullToRefresh_stories_InitiallyRefreshingWithHiddenSpinner.parameters=Object.assign({storySource:{source:'() => {\n  const targetRef = useRef<HTMLDivElement>(null);\n\n  const [isRefreshing, setIsRefreshing] = useState(true);\n\n  const onRefresh = useCallback(() => {\n    setIsRefreshing(true);\n    setTimeout(() => {\n      setIsRefreshing(false);\n    }, 3000);\n  }, []);\n\n  return (\n    <>\n      <PullToRefresh\n        targetRef={targetRef}\n        onRefresh={onRefresh}\n        isRefreshing={isRefreshing}\n        isSpinnerHiddenDuringRefreshing\n        hasDefaultPullToRefreshPossibly\n      />\n      <div style={{ height: "100vh", background: "pink", padding: 20 }} ref={targetRef}>\n        <p>Pull in a mobile browser (hidden spinner during refreshing)</p>\n        <p>{isRefreshing ? "Refreshing..." : ""}</p>\n      </div>\n    </>\n  );\n}'}},PullToRefresh_stories_InitiallyRefreshingWithHiddenSpinner.parameters),PullToRefresh_stories_DarkMode.parameters=Object.assign({storySource:{source:'() => {\n  const targetRef = useRef<HTMLDivElement>(null);\n\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  const onRefresh = useCallback(() => {\n    setIsRefreshing(true);\n    setTimeout(() => {\n      setIsRefreshing(false);\n    }, 3000);\n  }, []);\n\n  useEffect(() => {\n    const originBackgroundColor = document.body.style.backgroundColor;\n    document.body.style.backgroundColor = "#000";\n    return () => {\n      document.body.style.backgroundColor = originBackgroundColor;\n    };\n  }, []);\n\n  return (\n    <>\n      <PullToRefresh\n        targetRef={targetRef}\n        onRefresh={onRefresh}\n        isRefreshing={isRefreshing}\n        isDarkMode\n        hasDefaultPullToRefreshPossibly\n      />\n      <div style={{ height: "100vh", background: "pink", padding: 20 }} ref={targetRef}>\n        Pull in a mobile browser (dark mode)\n      </div>\n    </>\n  );\n}'}},PullToRefresh_stories_DarkMode.parameters);try{PullToRefresh_stories_OnTheTop.displayName="OnTheTop",PullToRefresh_stories_OnTheTop.__docgenInfo={description:"",displayName:"OnTheTop",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/PullToRefresh.stories.tsx#OnTheTop"]={docgenInfo:PullToRefresh_stories_OnTheTop.__docgenInfo,name:"OnTheTop",path:"src/PullToRefresh.stories.tsx#OnTheTop"})}catch(__react_docgen_typescript_loader_error){}try{PullToRefresh_stories_WithHeader.displayName="WithHeader",PullToRefresh_stories_WithHeader.__docgenInfo={description:"",displayName:"WithHeader",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/PullToRefresh.stories.tsx#WithHeader"]={docgenInfo:PullToRefresh_stories_WithHeader.__docgenInfo,name:"WithHeader",path:"src/PullToRefresh.stories.tsx#WithHeader"})}catch(__react_docgen_typescript_loader_error){}try{PullToRefresh_stories_ArtificialBounce.displayName="ArtificialBounce",PullToRefresh_stories_ArtificialBounce.__docgenInfo={description:"",displayName:"ArtificialBounce",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/PullToRefresh.stories.tsx#ArtificialBounce"]={docgenInfo:PullToRefresh_stories_ArtificialBounce.__docgenInfo,name:"ArtificialBounce",path:"src/PullToRefresh.stories.tsx#ArtificialBounce"})}catch(__react_docgen_typescript_loader_error){}try{PullToRefresh_stories_CustomSpinner.displayName="CustomSpinner",PullToRefresh_stories_CustomSpinner.__docgenInfo={description:"",displayName:"CustomSpinner",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/PullToRefresh.stories.tsx#CustomSpinner"]={docgenInfo:PullToRefresh_stories_CustomSpinner.__docgenInfo,name:"CustomSpinner",path:"src/PullToRefresh.stories.tsx#CustomSpinner"})}catch(__react_docgen_typescript_loader_error){}try{PullToRefresh_stories_CupertinoSpinnerAsCustomSpinner.displayName="CupertinoSpinnerAsCustomSpinner",PullToRefresh_stories_CupertinoSpinnerAsCustomSpinner.__docgenInfo={description:"",displayName:"CupertinoSpinnerAsCustomSpinner",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/PullToRefresh.stories.tsx#CupertinoSpinnerAsCustomSpinner"]={docgenInfo:PullToRefresh_stories_CupertinoSpinnerAsCustomSpinner.__docgenInfo,name:"CupertinoSpinnerAsCustomSpinner",path:"src/PullToRefresh.stories.tsx#CupertinoSpinnerAsCustomSpinner"})}catch(__react_docgen_typescript_loader_error){}try{PullToRefresh_stories_HiddenSpinnerDuringRefreshing.displayName="HiddenSpinnerDuringRefreshing",PullToRefresh_stories_HiddenSpinnerDuringRefreshing.__docgenInfo={description:"",displayName:"HiddenSpinnerDuringRefreshing",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/PullToRefresh.stories.tsx#HiddenSpinnerDuringRefreshing"]={docgenInfo:PullToRefresh_stories_HiddenSpinnerDuringRefreshing.__docgenInfo,name:"HiddenSpinnerDuringRefreshing",path:"src/PullToRefresh.stories.tsx#HiddenSpinnerDuringRefreshing"})}catch(__react_docgen_typescript_loader_error){}try{PullToRefresh_stories_InitiallyRefreshingWithHiddenSpinner.displayName="InitiallyRefreshingWithHiddenSpinner",PullToRefresh_stories_InitiallyRefreshingWithHiddenSpinner.__docgenInfo={description:"",displayName:"InitiallyRefreshingWithHiddenSpinner",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/PullToRefresh.stories.tsx#InitiallyRefreshingWithHiddenSpinner"]={docgenInfo:PullToRefresh_stories_InitiallyRefreshingWithHiddenSpinner.__docgenInfo,name:"InitiallyRefreshingWithHiddenSpinner",path:"src/PullToRefresh.stories.tsx#InitiallyRefreshingWithHiddenSpinner"})}catch(__react_docgen_typescript_loader_error){}try{PullToRefresh_stories_DarkMode.displayName="DarkMode",PullToRefresh_stories_DarkMode.__docgenInfo={description:"",displayName:"DarkMode",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/PullToRefresh.stories.tsx#DarkMode"]={docgenInfo:PullToRefresh_stories_DarkMode.__docgenInfo,name:"DarkMode",path:"src/PullToRefresh.stories.tsx#DarkMode"})}catch(__react_docgen_typescript_loader_error){}},878:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(23),__webpack_require__(5),__webpack_require__(50),__webpack_require__(854),__webpack_require__(855),__webpack_require__(48),__webpack_require__(856),__webpack_require__(857),__webpack_require__(435);var client_api=__webpack_require__(885),esm=__webpack_require__(4),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},layout:"fullscreen"};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))}},[[493,2,3]]]);